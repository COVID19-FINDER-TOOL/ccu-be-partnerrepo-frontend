{"version":3,"sources":["store/Action/SurveyAction.js","AxiosHandler.js","Components/FloatingButton/FloatingButton.module.scss","Components/FloatingButton/FloatingButton.js"],"names":["surveyData","survey","type","SURVEY","payload","axiosInstance","axios","create","baseURL","process","timeout","headers","axiosLoginInstance","defaults","common","module","exports","sendShareInfo","event","console","log","target","user","JSON","parse","window","localStorage","getItem","post","then","res","setItem","stringify","catch","error","setUser","user_id","moment","utc","format","creation_time","medium","id","body","data","FloatingBottonData","connect","state","dispatch","onEditInspection","login","props","useState","isOpen","setIsOpen","mobile","matchMedia","matches","slideSpeed","direction","spacing","iconResting","style","fontSize","className","classes","shareButton","iconActive","onClick","size","backgroundColor","icon","title","url","linkElement","subject","bsPrefix","links","Item","as","iconsbar"],"mappings":"mGAAA,8CAGaA,EAAa,SAAAC,GAAM,MAAK,CACjCC,KAAMC,IACNC,QAASH,K,iCCLb,yFAOaI,EAAgBC,IAAMC,OAAO,CACxCC,QALqBC,sEAMrBC,QAAS,IACTC,QAAS,CACP,cAAiB,sDAKRC,EAAqBN,IAAMC,OAAO,CAC7CC,QAZwBC,oDAaxBC,QAAS,IACTC,QAAS,CACP,8BAA+B,OAMnCC,EAAmBC,SAASF,QAAQG,OAAO,iBAA3C,qBACAF,EAAmBC,SAASF,QAAQG,OAApC,kBAEAT,EAAcQ,SAASF,QAAQG,OAAO,iBAAtC,qBACAT,EAAcQ,SAASF,QAAQG,OAA/B,mB,oBC7BAC,EAAOC,QAAU,CAAC,YAAc,oCAAoC,MAAQ,8BAA8B,YAAc,oCAAoC,gBAAkB,wCAAwC,MAAQ,8BAA8B,SAAW,mC,mQCkCjQC,EAAgB,SAACC,GACnBC,QAAQC,IAAIF,EAAMG,QAClB,IAAIC,EAAOC,KAAKC,MAAMC,OAAOC,aAAaC,QAAQ,aAE7CL,GAfO,SAACA,GACbV,IAAmBgB,KAAK,wBAAyBN,GAC5CO,MAAK,SAAAC,GAEFL,OAAOC,aAAaK,QAAQ,WAAYR,KAAKS,UAAUV,OAExDW,OAAM,SAAAC,GACLf,QAAQC,IAAIc,MAahBC,CAJAb,EAAO,CACHc,QAAS,MAAQC,IAAOC,MAAMC,OAAO,oBACrCC,cAAeH,IAAOC,MAAMC,OAAO,yBAK3C,IAAME,EAASvB,EAAMG,OAAOqB,GACtBC,EAAO,CACT,QAAWrB,EAAKc,QAChB,OAAUK,GAEd7B,IAAmBgB,KAAK,6BAA8Be,GACjDd,MAAK,SAAAC,GACF,IAAMc,EAAOd,EAAIc,KACjBzB,QAAQC,IAAIwB,MACbX,OAAM,SAAAC,GACLf,QAAQC,IAAIc,OAgElBW,EAAqBC,aAZH,SAAAC,GACpB,MAAO,CAAE3C,QAAS2C,EAAM/C,eAGD,SAAAgD,GACvB,MAAO,CACHC,iBAAkB,SAAAL,GAAI,OAAII,EAASC,YAAiBL,KACpDM,MAAO,SAAAN,GAAI,OAAII,EAASE,YAAMN,KAC9B5C,WAAY,SAAA4C,GAAI,OAAII,EAAShD,YAAW4C,QAIrBE,EA5DJ,SAACK,GAEpB,MAA4BC,oBAAS,GAArC,mBAAOC,EAAP,KAAeC,EAAf,KACMC,EAAS9B,OAAO+B,WAAW,sBAAsBC,QAEvD,OACI,oCACKF,EACG,kBAAC,IAAD,CACIG,WAAY,IACZC,UAAU,KACVC,QAAS,EACTP,OAAQA,GAER,kBAAC,IAAD,CACIQ,YAAa,kBAAC,IAAD,CAAWC,MAAO,CAAEC,SAAU,IAAMC,UAAWC,IAAQC,cACpEC,WAAY,kBAAC,IAAD,CAASL,MAAO,CAAEC,SAAU,MACxCK,QAAS,kBAAMd,GAAWD,IAC1BgB,KAAM,GACNP,MAAO,CAAEQ,gBAAiB,WAG9B,kBAAC,IAAD,CACIC,KAAM,kBAAC,IAAD,CAAqB7B,GAAI,WAAY8B,MAAM,+BAA+BC,IAAK,sDAAuD,kBAAC,IAAD,CAAcL,QAASnD,EAAeyB,GAAI,WAAYqB,SAAS,QAAQC,UAAWC,IAAQS,eACtOL,KAAM,GACNL,UAAWC,IAAQK,gBACnB5B,GAAI,aAER,kBAAC,IAAD,CACI6B,KAAM,kBAAC,IAAD,CAAkB7B,GAAI,QAASiC,QAAQ,sCAAsCF,IAAK,sDAAsD,kBAAC,IAAD,CAAUL,QAASnD,EAAeyB,GAAI,QAASqB,SAAS,QAAQC,UAAWC,IAAQS,eACjOL,KAAM,GACNL,UAAWC,IAAQK,gBACnB5B,GAAI,WAIZ,6BACI,kBAAC,IAAD,CAAgBA,GAAG,uBAAuB8B,MAAM,QAAQI,SAAUX,IAAQY,OACtE,kBAAC,IAASC,KAAV,CAAeC,GAAG,MAAMrC,GAAI,WAAY0B,QAASnD,GAAe,yBAAKyB,GAAI,WAAYsB,UAAWC,IAAQe,UAAU,0BAAMtC,GAAI,WAAYsB,UAAWC,IAAQS,aAAa,kBAAC,IAAD,CAAqBhC,GAAI,WAAY8B,MAAM,+BAA+BC,IAAK,sDAAuD,kBAAC,IAAD,CAAc/B,GAAI,WAAYqB,SAAS,QAAQC,UAAWC,IAAQS,aAAlE,KAAtI,eACxK,kBAAC,IAASI,KAAV,CAAeC,GAAG,MAAMrC,GAAI,QAAS0B,QAASnD,GAAe,yBAAKyB,GAAI,QAASsB,UAAWC,IAAQe,UAAU,0BAAMtC,GAAI,QAASsB,UAAWC,IAAQS,aAAa,kBAAC,IAAD,CAAkBhC,GAAI,QAASiC,QAAQ,sCAAsCF,IAAK,sDAAsD,kBAAC,IAAD,CAAU/B,GAAI,QAASqB,SAAS,QAAQC,UAAWC,IAAQS,cAAnM,kBAwBxK7B","file":"static/js/10.976ca176.chunk.js","sourcesContent":["import  {SURVEY}  from \"../ActionType/ActionTypes\";\r\n\r\n// Action to add article to store\r\nexport const surveyData = survey => ({\r\n    type: SURVEY,\r\n    payload: survey\r\n});","import axios from 'axios';\r\n\r\n\r\nexport const baseURL = process.env.REACT_APP_BASEURL;\r\nexport const baseUIURL = process.env.REACT_APP_UI;\r\nexport const loginUIURL = process.env.REACT_APP_LOGIN_URL;\r\n\r\nexport const axiosInstance = axios.create({\r\n  baseURL: baseURL,  //should be window.$keyVault.baseURL\r\n  timeout: 30000, \r\n  headers: {\r\n    \"Authorization\": \"EndpointKey 82918fc2-6ffc-47b7-bfdd-3c20b2aa2d3c\"\r\n  }\r\n});\r\n\r\n\r\nexport const axiosLoginInstance = axios.create({\r\n  baseURL: loginUIURL, //should be window.$keyVault.loginURL\r\n  timeout: 30000,\r\n  headers: {\r\n    'Access-Control-Allow-Origin': '*'\r\n  }\r\n});\r\n\r\n\r\n\r\naxiosLoginInstance.defaults.headers.common['cache-control'] = `no-cache, no-store`;\r\naxiosLoginInstance.defaults.headers.common['Pragma'] = `no-cache`;\r\n\r\naxiosInstance.defaults.headers.common['cache-control'] = `no-cache, no-store`;\r\naxiosInstance.defaults.headers.common['Pragma'] = `no-cache`;\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"shareButton\":\"FloatingButton_shareButton__3rCeR\",\"links\":\"FloatingButton_links__1HFXU\",\"linkElement\":\"FloatingButton_linkElement__3q_t-\",\"backgroundColor\":\"FloatingButton_backgroundColor__3mTaK\",\"icons\":\"FloatingButton_icons__2_nJz\",\"iconsbar\":\"FloatingButton_iconsbar__rXAjN\"};","import React, { useState } from 'react';\r\nimport Dropdown from 'react-bootstrap/Dropdown'\r\nimport DropdownButton from 'react-bootstrap/DropdownButton'\r\nimport {\r\n    FloatingMenu,\r\n    MainButton,\r\n    ChildButton,\r\n} from 'react-floating-button-menu';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport WhatsAppIcon from '@material-ui/icons/WhatsApp';\r\nimport {\r\n    EmailShareButton,\r\n    WhatsappShareButton,\r\n\r\n} from \"react-share\";\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport MdClose from '@material-ui/icons/Clear';\r\nimport classes from './FloatingButton.module.scss';\r\nimport { axiosLoginInstance } from '../../AxiosHandler';\r\nimport { surveyData } from \"../../store/Action/SurveyAction\";\r\nimport { onEditInspection, login } from \"../../store/Action/LoginAction\";\r\nimport { connect } from \"react-redux\";\r\nimport moment from \"moment\";\r\n\r\nconst setUser = (user) => {\r\n    axiosLoginInstance.post(\"CFTUserIdTrigger/user\", user)\r\n        .then(res => {\r\n\r\n            window.localStorage.setItem('csf_user', JSON.stringify(user));\r\n\r\n        }).catch(error => {\r\n            console.log(error);\r\n        });\r\n}\r\n\r\nconst sendShareInfo = (event) => {\r\n    console.log(event.target)\r\n    var user = JSON.parse(window.localStorage.getItem(\"csf_user\"))\r\n\r\n    if (!user) {\r\n        user = {\r\n            user_id: \"UID\" + moment.utc().format('DDMMYYThhmmssSSS'),\r\n            creation_time: moment.utc().format('YYYY-MM-DD hh:mm:ss')\r\n        }\r\n        setUser(user)\r\n    }\r\n\r\n    const medium = event.target.id\r\n    const body = {\r\n        \"user_id\": user.user_id,\r\n        \"medium\": medium\r\n    }\r\n    axiosLoginInstance.post(\"CFTUserShareTrigger/invite\", body)\r\n        .then(res => {\r\n            const data = res.data;\r\n            console.log(data);\r\n        }).catch(error => {\r\n            console.log(error);\r\n        });\r\n}\r\n\r\nconst FloatingButton = (props) => {\r\n\r\n    const [isOpen, setIsOpen] = useState(false)\r\n    const mobile = window.matchMedia(\"(max-width: 767px)\").matches;\r\n\r\n    return (\r\n        <>\r\n            {mobile ?\r\n                <FloatingMenu\r\n                    slideSpeed={500}\r\n                    direction=\"up\"\r\n                    spacing={8}\r\n                    isOpen={isOpen}\r\n                >\r\n                    <MainButton\r\n                        iconResting={<ShareIcon style={{ fontSize: 25 }} className={classes.shareButton} />}\r\n                        iconActive={<MdClose style={{ fontSize: 20 }} />}\r\n                        onClick={() => setIsOpen(!isOpen)}\r\n                        size={50}\r\n                        style={{ backgroundColor: \"white\" }}\r\n\r\n                    />\r\n                    <ChildButton\r\n                        icon={<WhatsappShareButton id={\"whatsapp\"} title='Covid-19 Support Finder Tool' url={\"https://breatheasysupport.z13.web.core.windows.net\"} ><WhatsAppIcon onClick={sendShareInfo} id={\"whatsapp\"} fontSize=\"large\" className={classes.linkElement} ></WhatsAppIcon></WhatsappShareButton>}\r\n                        size={35}\r\n                        className={classes.backgroundColor}\r\n                        id={\"whatsapp\"}\r\n                    />\r\n                    <ChildButton\r\n                        icon={<EmailShareButton id={\"email\"} subject='Covid-19 Support Finder Tool Invite' url={\"https://breatheasysupport.z13.web.core.windows.net\"}><MailIcon onClick={sendShareInfo} id={\"email\"} fontSize=\"large\" className={classes.linkElement} ></MailIcon></EmailShareButton>}\r\n                        size={35}\r\n                        className={classes.backgroundColor}\r\n                        id={\"email\"}\r\n                    />\r\n                </FloatingMenu>\r\n                :\r\n                <div>\r\n                    <DropdownButton id=\"dropdown-item-button\" title='Share' bsPrefix={classes.links}>\r\n                        <Dropdown.Item as=\"div\" id={\"whatsapp\"} onClick={sendShareInfo}><div id={\"whatsapp\"} className={classes.iconsbar}><span id={\"whatsapp\"} className={classes.linkElement}><WhatsappShareButton id={\"whatsapp\"} title='Covid-19 Support Finder Tool' url={\"https://breatheasysupport.z13.web.core.windows.net\"} ><WhatsAppIcon id={\"whatsapp\"} fontSize=\"large\" className={classes.linkElement}> </WhatsAppIcon>WhatsApp</WhatsappShareButton ></span></div></Dropdown.Item>\r\n                        <Dropdown.Item as=\"div\" id={\"email\"} onClick={sendShareInfo}><div id={\"email\"} className={classes.iconsbar}><span id={\"email\"} className={classes.linkElement}><EmailShareButton id={\"email\"} subject='Covid-19 Support Finder Tool Invite' url={\"https://breatheasysupport.z13.web.core.windows.net\"}><MailIcon id={\"email\"} fontSize=\"large\" className={classes.linkElement}></MailIcon>Email</EmailShareButton></span></div></Dropdown.Item>\r\n                    </DropdownButton>\r\n\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return { payload: state.surveyData };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onEditInspection: data => dispatch(onEditInspection(data)),\r\n        login: data => dispatch(login(data)),\r\n        surveyData: data => dispatch(surveyData(data))\r\n    };\r\n};\r\n\r\nconst FloatingBottonData = connect(mapStateToProps, mapDispatchToProps)(FloatingButton);\r\n\r\n\r\nexport default FloatingBottonData;"],"sourceRoot":""}